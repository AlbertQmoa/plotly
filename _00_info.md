

==============================================================================================================
# traces
    概述：
        在 Plotly 中，一個 "trace"（或稱為數據系列）代表圖表中的一組相關數據點和這組數據點如何在圖表上呈現的設定。
        每個 trace 定義了一種特定的圖表類型（如散點圖、線圖、柱狀圖等），以及與這些數據點相關的視覺屬性，例如顏色、大小、形狀等。
        在 Plotly 中，一個“trace”（數據系列）可以是圖表中任何一種類型的數據表示，例如：
            線圖中的一條線
            散點圖中的一組點
            柱狀圖中的一組柱子
        每個 trace 包含了繪製這些圖形所需的數據和樣式設置。
        例如，對於一個散點圖的 trace，它可能包含 x 值和 y 值的列表，以及有關點的大小、顏色和形狀的信息。
    
    主要特點：
        圖表類型：每個 trace 對應到一種圖表類型。Plotly 支援多種圖表類型，包括但不限於：scatter（散點圖/線圖）、bar（柱狀圖）、pie（餅圖）、heatmap（熱力圖）、box（箱形圖）、histogram（直方圖）等。
        數據點屬性：你可以為每個 trace 指定數據點的各種視覺屬性，如顏色（color）、大小（size）、形狀（symbol）等，來自定義數據的呈現方式。
        獨立配置：每個 trace 都有自己的配置設定，允許在同一個圖表中展示多種不同類型的數據系列，並可以獨立控制它們的顯示樣式。
    
    創建 Trace 的例子：
        假設你正在使用 Plotly 的 Python 庫創建一個散點圖，其中包含兩組數據：
        一組代表“男生”的數據，另一組代表“女生”的數據。這可以通過創建兩個散點圖 trace 來實現：
            import plotly.graph_objects as go

            # 創建一個空的圖表對象
            fig = go.Figure()

            # 為“男生”數據添加一個散點圖 trace
            fig.add_trace(go.Scatter(x=[1, 2, 3, 4], y=[10, 11, 12, 13],
                                    mode='markers',     # 使用標記（點）來展示數據
                                    name='男生'))        # 為這個 trace 設定一個名稱

            # 為“女生”數據添加另一個散點圖 trace
            fig.add_trace(go.Scatter(x=[2, 3, 4, 5], y=[10, 12, 14, 16],
                                    mode='markers',     # 同樣使用標記（點）
                                    name='女生'))        # 為這個 trace 設定另一個名稱
            
            # 顯示圖表
            fig.show()
        在這個例子中，fig.add_trace() 方法被用來向圖表中添加新的數據系列（trace）。
        每個 go.Scatter 對象代表一組數據和相關的顯示設定。
        通過指定 x 和 y 軸的數據，以及設定 mode 和 name，我們在圖表中定義了兩組獨立的數據點，並且用不同的標記來區分“男生”和“女生”的數據。

    問題： fig.update_traces如何指定要更新哪一組數據呢？
        解答：
            在 Plotly 中，如果你想要針對特定的數據系列（traces）進行更新，可以透過使用 fig.update_traces 方法的 selector 參數來實現。selector 參數允許你根據數據系列的特定屬性來過濾出需要更新的目標，例如根據數據系列的類型（如 scatter、bar 等）或是設定了特定名稱（name）的數據系列。

        使用 selector 參數指定更新的數據系列：
            假設你的圖表中包含了多個散點圖（scatter）數據系列，且每個系列都設定了一個唯一的名稱。如果你想只更新名稱為 "男生" 的數據系列，可以這樣做：
                fig.update_traces(marker=dict(size=12, color="blue"), selector=dict(name="男生"))
            這裡，marker=dict(size=12, color="blue") 指定了你想要應用到選中數據系列的更新（在這個例子中，是改變標記的大小和顏色）。selector=dict(name="男生") 告訴 update_traces 方法只更新那些名稱為 "男生" 的數據系列。
        
        示例：更新特定類型的數據系列
            如果你想更新圖表中所有類型為柱狀圖（bar）的數據系列，可以使用以下方式：
                fig.update_traces(marker=dict(color="red"), selector=dict(type="bar"))
            這段代碼會將所有柱狀圖的標記顏色更新為紅色，而不影響其他類型的數據系列。
        
        注意：
            如果不使用 selector 參數，update_traces 方法將會應用到圖表中的所有數據系列。
            確保使用的 selector 參數能準確匹配到你想要更新的數據系列的屬性。
            如果不確定名稱，可以使用修改 fig.data[i] 來確定 i 所對應的圖並幫其命名。
                fig.data[0].name = 'Girl'
                fig.data[1].name = 'Boy'



==============================================================================================================
# fig.data
    概述：
        在 Plotly 中，fig.data 是指包含圖表中所有數據系列的屬性。
        每個數據系列（也稱為“trace”）代表圖表中的一組相關數據，例如在線圖中的一條線、散點圖中的一組點、柱狀圖中的一組柱子等。
        fig.data 是一個元組（tuple），其中的每個元素都是一個對象，代表單個數據系列。

    修改數據系列屬性：
        你可以直接修改 fig.data 中的元素來改變圖表的外觀和行為。
        例如，更改數據系列的名稱、顏色或其他視覺屬性。下面的代碼展示了如何修改第一個數據系列的名稱和標記大小：
            fig.data[0].name = '新名稱'     # 修改第一個數據系列的名稱
            fig.data[0].marker.size = 10    # 修改第一個數據系列中標記的大小

    示例：
        假設你有一個 Plotly 散點圖 fig，它包含兩組數據：一組代表 “男生”，另一組代表“女生”。
        那麼，fig.data 將包含兩個元素，每個元素分別代表圖表中的一個數據系列。
        如果想要訪問或修改這些數據系列中的任何一個，你可以通過索引 fig.data 來實現。
        比如，fig.data[0] 將訪問第一個數據系列，fig.data[1] 訪問第二個數據系列。
    
    問題： 傳入 df，Plotly 如何決定數據應該如何分組？
        解答：
            當你使用 Plotly 或 Plotly Express 創建散點圖時，是可以直接傳入一個 DataFrame 的。
            DataFrame 中的數據如何被分成不同的組（例如“男生”和“女生”），主要是依賴於你指定的參數。
            通常，這種分組是通過設置 color 參數來實現的，color 參數根據某個列的值來對數據點進行著色，從而實現數據分組的效果。

        DataFrame 的例子：
            假設你有一個名為 df 的 DataFrame，它包含了學生的性別（"Gender"）、考試成績（"Score"）和學生姓名（"Name"）。
            接下來，我們使用 px 創建一個散點圖，其中 x 軸代表學生姓名，y 軸代表考試成績，並根據性別對點進行著色，從而把數據分成“男生”和“女生”兩組。
                fig = px.scatter(df, x='Name', y='Score', color='Gender', title='Test Scores by Gender')
            在這個例子中：
                x='Name' 指定了 DataFrame 中的 'Name' 列作為 x 軸的數據。
                y='Score' 指定了 'Score' 列作為 y 軸的數據。
                color='Gender' 根據 'Gender' 列的值對數據點進行著色，因此 'Gender' 列中的每個唯一值（在這個例子中是 'Male' 和 'Female'）將會對應到圖表中的一種顏色，從而實現了數據的分組效果。



==============================================================================================================
# layout
    概述：
        在 Plotly 中，layout 屬性用於定義圖表的整體佈局和外觀，包括標題、軸標籤、圖例、大小、邊距以及其他視覺元素的設定。
        layout 使你能夠細調圖表的呈現方式，確保它能夠清晰地傳達數據的信息。
    
    常見的 layout 設定包括：
        標題（Title）：可以設定圖表的主標題，以及子標題等。
        軸（Axis）：包括軸的標題、軸標籤的角度、格式化、範圍等設定。
        圖例（Legend）：設定圖例的位置、格式化、是否顯示等。
        大小和邊距（Size & Margin）：調整圖表的大小和邊框的間距。
        格線（Grid Lines）：設定網格線的顯示與否，以及樣式。
        背景顏色（Background Color）：可以設定圖表或繪圖區域的背景顏色。
    
    如何使用 layout：
        在使用 Plotly 或 Plotly Express 創建圖表時，layout 可以通過 .update_layout() 方法來進行設定。
        這個方法接受多種參數，用於自定義布局的各個方面。
    
    示例：
        假設你已經使用 Plotly Express 創建了一個散點圖 fig，下面是一些使用 .update_layout() 方法進行布局自定義的例子。
            fig.update_layout(
                title='我的散點圖',                      # 設定標題
                title_x=0.5,                           # 將標題居中
                xaxis_title='X軸標題',                  # 設定X軸標題
                yaxis_title='Y軸標題',                  # 設定Y軸標題
                legend_title='圖例標題',                # 設定圖例標題
                margin=dict(l=40, r=40, t=40, b=40),   # 設定圖表邊距
                paper_bgcolor='lightgray',             # 設定圖表背景顏色
                plot_bgcolor='white'                   # 設定繪圖區域背景顏色
            )



==============================================================================================================
# frames (For 動畫)
    概述：
        當你在 Plotly 中創建帶有動畫的圖表時，fig.frames 是一個重要的屬性，它包含了圖表中所有動畫帧（frames）的資訊。
        每一個 "frame" 對應於動畫中的一個特定時刻的圖表狀態，包括該時刻所有數據系列的數據點和配置。
        在創建動畫時，你可能會根據不同的時間點或條件來設置不同的帧，每一帧展示了該時間點或條件下的數據狀態。
        fig.frames 使你能夠訪問和修改這些帧，從而精細控制動畫的每一個細節。
    
    frames 的結構：
        fig.frames 是一個列表（list），每個元素都是一個代表動畫中一個帧的對象。
        每個帧對象包含了該帧的數據（data）和可能的布局變化（layout），這允許每一帧都可以有獨立的數據和視覺表現。
        data 屬性是一個列表，包含了該帧中所有數據系列（traces）的數據。這與 fig.data 類似，但是是針對每一個動畫帧的。
        可以透過修改 fig.frames 中的元素來改變動畫的具體表現，比如更新某一帧中的數據系列顏色、大小等。

    示例：
        假設你已經使用 Plotly Express 創建了一個帶有動畫的散點圖，並且想要更改第一個動畫帧中所有數據系列的標記顏色：
            # 假設 fig 是一個已經創建好的帶有動畫帧的圖表對象
            # 更新第一個動畫帧中所有數據系列的標記顏色
            for trace in fig.frames[0].data:
                trace.marker.color = 'red'  # 將顏色更改為紅色
    
    注意：
        在使用 fig.frames 進行動畫設置或修改時，需要有一定的對動畫結構的理解，包括動畫帧的設置和數據系列在每一帧中的變化。
        fig.frames 中的每一帧都可以獨立配置，包括數據點的風格、布局調整等，這提供了高度的自定義能力，使動畫更加豐富和多樣。



==============================================================================================================
